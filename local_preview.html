<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proposal Builder - Local Preview</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Open Sans', sans-serif; }
        h1, h2, h3, h4, h5, h6, .font-headline { font-family: 'Roboto', sans-serif; }
        
        @media print {
            @page { margin: 0; }
            body { -webkit-print-color-adjust: exact; }
        }
    </style>
    
    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                heroic: {
                  red: '#ba0202',
                  blue: '#1ca8dd',
                  white: '#ffffff',
                  gray: '#e9ecf3',
                  black: '#333333'
                }
              },
              fontFamily: {
                sans: ['Open Sans', 'sans-serif'],
                headline: ['Roboto', 'sans-serif'],
              }
            }
          }
        }
    </script>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- ICON MOCKS (Replacing lucide-react for standalone usage) ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const Plus = (props) => <IconBase {...props}><path d="M5 12h14"/><path d="M12 5v14"/></IconBase>;
        const Trash2 = (props) => <IconBase {...props}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></IconBase>;
        const Printer = (props) => <IconBase {...props}><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></IconBase>;
        const ChevronDown = (props) => <IconBase {...props}><path d="m6 9 6 6 6-6"/></IconBase>;
        const ChevronUp = (props) => <IconBase {...props}><path d="m18 15-6-6-6 6"/></IconBase>;
        const FileText = (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></IconBase>;
        const DollarSign = (props) => <IconBase {...props}><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></IconBase>;
        const Users = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconBase>;
        const Shield = (props) => <IconBase {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></IconBase>;
        const Globe = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><path d="M2 12h20"/></IconBase>;
        const Layout = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const Package = (props) => <IconBase {...props}><path d="m16.5 9.4-9-5.19"/><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" x2="12" y1="22.08" y2="12"/></IconBase>;


        // --- DEFAULT CATALOG ---
        const DEFAULT_CATALOG = {
            tiers: [
                {
                    id: 'core',
                    name: "DarkWatch Core Plan",
                    price: "$10,000 / year",
                    features: {
                        seats: "3 admin user accounts",
                        profiles: "1 Monitored Organizational Profile",
                        api: "10,000 API credits per month",
                        support: "Email & Chat Support"
                    }
                },
                {
                    id: 'pro',
                    name: "DarkWatch Pro Plan",
                    price: "$30,000 / year",
                    features: {
                        seats: "10 admin user accounts",
                        profiles: "10+ Monitored Organizational Profiles",
                        api: "35,000 API credits per month",
                        support: "Email, Chat, 24-48hr Support"
                    }
                },
                {
                    id: 'advanced',
                    name: "DarkWatch Advanced Plan",
                    price: "$60,000 / year",
                    features: {
                        seats: "25 admin user accounts",
                        profiles: "25+ Monitored Organizational Profiles",
                        api: "80,000 API credits per month",
                        support: "8x5 Next-day Support"
                    }
                },
                {
                    id: 'elite',
                    name: "DarkWatch Elite Plan",
                    price: "$100,000 / year",
                    features: {
                        seats: "Unlimited admin user accounts",
                        profiles: "50+ Monitored Organizational Profiles",
                        api: "150,000 API credits per month",
                        support: "24x5, 4-hr SLA"
                    }
                }
            ],
            addons: [
                { name: "Additional Org Profile", price: "$3,000 / year" },
                { name: "Additional Seat", price: "$600 / user / year" },
                { name: "Accelerate Package (Integration)", price: "$10,000 one-time" },
                { name: "Analyst Remediation Assist (20 hrs)", price: "$3,000" },
                { name: "Custom Engineering Sprint", price: "$25,000" },
                { name: "Takedown Pack (Cost per Takedown)", price: "$55.00" }
            ]
        };

        // --- ADMIN COMPONENT ---
        const PricingAdmin = ({ catalog, onSave, onBack }) => {
            const [localCatalog, setLocalCatalog] = useState(catalog);

            const handleTierChange = (index, field, value) => {
                const newTiers = [...localCatalog.tiers];
                newTiers[index] = { ...newTiers[index], [field]: value };
                setLocalCatalog({ ...localCatalog, tiers: newTiers });
            };

            const handleFeatureChange = (tierIndex, featureKey, value) => {
                const newTiers = [...localCatalog.tiers];
                newTiers[tierIndex].features = { ...newTiers[tierIndex].features, [featureKey]: value };
                setLocalCatalog({ ...localCatalog, tiers: newTiers });
            };

            const handleAddonChange = (index, field, value) => {
                const newAddons = [...localCatalog.addons];
                newAddons[index] = { ...newAddons[index], [field]: value };
                setLocalCatalog({ ...localCatalog, addons: newAddons });
            };

            const addAddon = () => {
                setLocalCatalog({
                    ...localCatalog,
                    addons: [...localCatalog.addons, { name: "New Addon", price: "$0" }]
                });
            };

            const removeAddon = (index) => {
                const newAddons = localCatalog.addons.filter((_, i) => i !== index);
                setLocalCatalog({ ...localCatalog, addons: newAddons });
            };
            
            const save = () => {
                onSave(localCatalog);
                alert("Pricing Catalog Saved!");
            };

            return (
                <div className="min-h-screen bg-gray-100 p-8 font-sans">
                    <div className="max-w-5xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden">
                        <div className="bg-heroic-black text-white p-6 flex justify-between items-center">
                            <h2 className="text-2xl font-bold font-headline">Pricing Catalog Admin</h2>
                            <div className="flex gap-4">
                                <button onClick={onBack} className="text-gray-300 hover:text-white">Back to Builder</button>
                                <button onClick={save} className="bg-heroic-red px-4 py-2 rounded font-bold hover:bg-red-700">Save Changes</button>
                            </div>
                        </div>

                        <div className="p-8 space-y-12">
                            {/* TIERS */}
                            <section>
                                <h3 className="text-xl font-bold text-heroic-black mb-4 border-b pb-2">Plan Tiers</h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    {localCatalog.tiers.map((tier, idx) => (
                                        <div key={tier.id} className="border rounded-lg p-4 bg-gray-50">
                                            <div className="mb-4">
                                                <label className="block text-xs font-bold uppercase text-gray-500 mb-1">Plan Name</label>
                                                <input 
                                                    type="text" 
                                                    value={tier.name} 
                                                    onChange={(e) => handleTierChange(idx, 'name', e.target.value)}
                                                    className="w-full p-2 border rounded font-bold text-heroic-black"
                                                />
                                            </div>
                                            <div className="mb-4">
                                                <label className="block text-xs font-bold uppercase text-gray-500 mb-1">Price</label>
                                                <input 
                                                    type="text" 
                                                    value={tier.price} 
                                                    onChange={(e) => handleTierChange(idx, 'price', e.target.value)}
                                                    className="w-full p-2 border rounded"
                                                />
                                            </div>
                                            
                                            <div className="space-y-2">
                                                <label className="block text-xs font-bold uppercase text-gray-500">Features Defaults</label>
                                                <div className="grid grid-cols-2 gap-2">
                                                    <input type="text" value={tier.features.seats} onChange={(e) => handleFeatureChange(idx, 'seats', e.target.value)} className="p-2 border rounded text-xs" placeholder="Seats" />
                                                    <input type="text" value={tier.features.profiles} onChange={(e) => handleFeatureChange(idx, 'profiles', e.target.value)} className="p-2 border rounded text-xs" placeholder="Profiles" />
                                                    <input type="text" value={tier.features.api} onChange={(e) => handleFeatureChange(idx, 'api', e.target.value)} className="p-2 border rounded text-xs" placeholder="API" />
                                                    <input type="text" value={tier.features.support} onChange={(e) => handleFeatureChange(idx, 'support', e.target.value)} className="p-2 border rounded text-xs" placeholder="Support" />
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* ADDONS */}
                            <section>
                                <h3 className="text-xl font-bold text-heroic-black mb-4 border-b pb-2">Add-ons</h3>
                                <div className="space-y-2">
                                    {localCatalog.addons.map((addon, idx) => (
                                        <div key={idx} className="flex gap-4 items-center">
                                            <input 
                                                type="text" 
                                                value={addon.name} 
                                                onChange={(e) => handleAddonChange(idx, 'name', e.target.value)}
                                                className="flex-1 p-2 border rounded"
                                                placeholder="Add-on Name"
                                            />
                                            <input 
                                                type="text" 
                                                value={addon.price} 
                                                onChange={(e) => handleAddonChange(idx, 'price', e.target.value)}
                                                className="w-48 p-2 border rounded"
                                                placeholder="Price"
                                            />
                                            <button onClick={() => removeAddon(idx)} className="text-red-500 hover:text-red-700 p-2"><Trash2 size={18}/></button>
                                        </div>
                                    ))}
                                    <button onClick={addAddon} className="flex items-center gap-2 text-heroic-blue font-bold mt-4">
                                        <Plus size={18}/> Add New Add-on
                                    </button>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            );
        };

        const ProposalBuilder = ({ catalog, onOpenAdmin }) => {
        const [activeSection, setActiveSection] = useState('pricing'); 

        const [proposalData, setProposalData] = useState({
            // Client & Header Info
            clientName: "Plante Moran",
            clientHeadquarters: "Southfield, Michigan",
            useCase: "Penetration testing and cybersecurity reviews by internal security teams. Company protection.",
            preparedFor: "ACD Direct",
            preparedBy: "Chad Bennett, CEO",
            preparedByPhone: "801-358-5536",
            preparedByEmail: "chad@heroic.com",
            
            // Dates
            startDate: "May-2025",
            expirationDate: new Date(new Date().setDate(new Date().getDate() + 30)).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
            
            // Pricing
            lineItems: [
            { id: 1, name: "DarkWatch Core Plan 1-YR", qty: 1, price: "$10,000 / year" }
            ],

            // Discounts
    discounts: [],

    // Platform Benefits / Limits
            benefits: [
            { id: 1, text: "Full access to the online platform, APIs, and monitoring functionality" },
            { id: 2, text: "1 Monitored Organizational Profile" },
            { id: 3, text: "3 admin user accounts" },
            { id: 4, text: "10,000 API credits per month" },
            { id: 5, text: "Real-time alerting when monitored identities have been discovered in breaches" },
            { id: 6, text: "Email & Chat Support" },
            { id: 7, text: "Custom Reporting" },
            ],

            // Boilerplate defaults
            dataCompliance: "All data access and usage must comply with applicable privacy laws and HEROIC's terms of service. Results are for internal security purposes only and may not be redistributed or resold.",
            onboarding: "HEROIC will provide onboarding documentation, API keys, and technical support for integration. Usage reporting and account management dashboards will be available to designated administrators."
        });

  // --- CALCULATE TOTAL ---
  const calculations = useMemo(() => {
    let subtotal = 0;
    proposalData.lineItems.forEach(item => {
      const match = item.price.replace(/,/g, '').match(/(\d+(\.\d+)?)/);
      if (match) {
        const unitPrice = parseFloat(match[0]);
        const qty = parseInt(item.qty) || 1;
        subtotal += unitPrice * qty;
      }
    });

    let discountAmount = 0;
    proposalData.discounts.forEach(item => {
      const val = parseFloat(item.value) || 0;
      if (item.type === 'percent') {
        discountAmount += subtotal * (val / 100);
      } else {
        discountAmount += val;
      }
    });

    const total = Math.max(0, subtotal - discountAmount);

    return {
      subtotal: subtotal.toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }),
      discount: discountAmount.toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }),
      total: total.toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 })
    };
  }, [proposalData.lineItems, proposalData.discounts]);

  const toggleSection = (section) => {
            setActiveSection(activeSection === section ? null : section);
        };

        const handleInputChange = (e) => {
            const { name, value } = e.target;
            setProposalData(prev => ({ ...prev, [name]: value }));
        };

        // --- CATALOG HANDLERS ---
        const applyTier = (tierId) => {
            const tier = catalog.tiers.find(t => t.id === tierId);
            if (!tier) return;

            const newLineItems = [...proposalData.lineItems];
            const planIndex = newLineItems.findIndex(i => i.name.includes("DarkWatch"));
            
            if (planIndex >= 0) {
            newLineItems[planIndex] = { ...newLineItems[planIndex], name: `${tier.name} 1-YR`, qty: 1, price: tier.price };
            } else {
            newLineItems.unshift({ id: Date.now(), name: `${tier.name} 1-YR`, qty: 1, price: tier.price });
            }

            const newBenefits = [
            { id: 101, text: "Full access to the online platform, APIs, and monitoring functionality" },
            { id: 102, text: tier.features.profiles },
            { id: 103, text: tier.features.seats },
            { id: 104, text: tier.features.api },
            { id: 105, text: "Real-time alerting when monitored identities have been discovered in breaches" },
            { id: 106, text: tier.features.support },
            { id: 107, text: "Custom Reporting" },
            ];

            setProposalData(prev => ({
            ...prev,
            lineItems: newLineItems,
            benefits: newBenefits
            }));
        };

  const addCatalogAddon = (e) => {
    const addonName = e.target.value;
    if (!addonName) return;

    const addon = catalog.addons.find(a => a.name === addonName);
    if (addon) {
      setProposalData(prev => {
          const existingItemIndex = prev.lineItems.findIndex(i => i.name === addon.name && i.price === addon.price);
          if (existingItemIndex >= 0) {
              const updatedItems = [...prev.lineItems];
              updatedItems[existingItemIndex] = {
                  ...updatedItems[existingItemIndex],
                  qty: (updatedItems[existingItemIndex].qty || 1) + 1
              };
              return { ...prev, lineItems: updatedItems };
          }
          return {
            ...prev,
            lineItems: [...prev.lineItems, { id: Date.now(), name: addon.name, qty: 1, price: addon.price }]
          };
      });
    }
    e.target.value = ""; 
  };

  const addDiscount = () => {
    setProposalData(prev => ({
      ...prev,
      discounts: [...prev.discounts, { id: Date.now(), name: "Loyalty Discount", type: 'fixed', value: "0" }]
    }));
  };

  const updateDiscount = (id, field, value) => {
    setProposalData(prev => ({
      ...prev,
      discounts: prev.discounts.map(item => item.id === id ? { ...item, [field]: value } : item)
    }));
  };

  const removeDiscount = (id) => {
    setProposalData(prev => ({
      ...prev,
      discounts: prev.discounts.filter(item => item.id !== id)
    }));
  };

        // --- STANDARD HANDLERS ---
        const addLineItem = () => {
            const newItem = { id: Date.now(), name: "New Service", qty: 1, price: "$0" };
            setProposalData(prev => ({ ...prev, lineItems: [...prev.lineItems, newItem] }));
        };

        const updateLineItem = (id, field, value) => {
            setProposalData(prev => ({
            ...prev,
            lineItems: prev.lineItems.map(item => {
                if (item.id === id) {
                    const updatedItem = { ...item, [field]: value };
                    
                    // Auto-update price if name matches catalog
                    if (field === 'name') {
                        const catalogAddon = catalog.addons.find(a => a.name === value);
                        if (catalogAddon) {
                            updatedItem.price = catalogAddon.price;
                        } else {
                            // Check tiers
                            const catalogTier = catalog.tiers.find(t => `${t.name} 1-YR` === value || t.name === value);
                            if (catalogTier) {
                                updatedItem.price = catalogTier.price;
                            }
                        }
                    }
                    return updatedItem;
                }
                return item;
            })
            }));
        };

        const removeLineItem = (id) => {
            setProposalData(prev => ({
            ...prev,
            lineItems: prev.lineItems.filter(item => item.id !== id)
            }));
        };

        const addBenefit = () => {
            const newBenefit = { id: Date.now(), text: "New Feature or Limit" };
            setProposalData(prev => ({ ...prev, benefits: [...prev.benefits, newBenefit] }));
        };

        const updateBenefit = (id, value) => {
            setProposalData(prev => ({
            ...prev,
            benefits: prev.benefits.map(b => b.id === id ? { ...b, text: value } : b)
            }));
        };

        const removeBenefit = (id) => {
            setProposalData(prev => ({
            ...prev,
            benefits: prev.benefits.filter(b => b.id !== id)
            }));
        };

        const handlePrint = () => {
            window.print();
        };

        return (
            <div className="min-h-screen bg-gray-100 font-sans text-gray-800 flex flex-col md:flex-row">
            
            {/* ------------------- EDITOR SIDEBAR ------------------- */}
            <div className="w-full md:w-96 bg-white border-r border-gray-200 shadow-lg overflow-y-auto h-screen sticky top-0 print:hidden z-10">
                <div className="p-4 bg-gray-900 text-white flex justify-between items-center">
                <h2 className="text-xl font-bold flex items-center gap-2">
                    <Layout size={20} /> Proposal Builder
                </h2>
                <div className="flex gap-2">
                    <button onClick={onOpenAdmin} className="bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-full transition-colors" title="Admin / Pricing">
                        <div className="w-4 h-4 flex items-center justify-center font-bold text-xs">⚙️</div>
                    </button>
                    <button onClick={handlePrint} className="bg-heroic-red hover:bg-red-700 text-white p-2 rounded-full transition-colors" title="Print / Save PDF">
                        <Printer size={18} />
                    </button>
                </div>
                </div>

                <div className="p-4 space-y-4">
                
                {/* Client Info Section */}
                <div className="border rounded-lg overflow-hidden">
                    <button 
                    className="w-full p-3 bg-gray-50 flex justify-between items-center font-semibold text-gray-700 hover:bg-gray-100"
                    onClick={() => toggleSection('client')}
                    >
                    <div className="flex items-center gap-2"><Users size={16}/> Client Details</div>
                    {activeSection === 'client' ? <ChevronUp size={16}/> : <ChevronDown size={16}/>}
                    </button>
                    {activeSection === 'client' && (
                    <div className="p-4 space-y-3 bg-white">
                        <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Company Name</label>
                        <input type="text" name="clientName" value={proposalData.clientName} onChange={handleInputChange} className="w-full p-2 border rounded text-sm" />
                        </div>
                        <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Headquarters</label>
                        <input type="text" name="clientHeadquarters" value={proposalData.clientHeadquarters} onChange={handleInputChange} className="w-full p-2 border rounded text-sm" />
                        </div>
                        <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Prepared For (Person)</label>
                        <input type="text" name="preparedFor" value={proposalData.preparedFor} onChange={handleInputChange} className="w-full p-2 border rounded text-sm" />
                        </div>
                        <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Use Case / Notes</label>
                        <textarea name="useCase" value={proposalData.useCase} onChange={handleInputChange} className="w-full p-2 border rounded text-sm h-24" />
                        </div>
                    </div>
                    )}
                </div>

                {/* Pricing Section */}
                <div className="border rounded-lg overflow-hidden border-blue-200 shadow-sm">
                    <button 
                    className="w-full p-3 bg-blue-50 flex justify-between items-center font-semibold text-blue-900 hover:bg-blue-100"
                    onClick={() => toggleSection('pricing')}
                    >
                    <div className="flex items-center gap-2"><DollarSign size={16}/> Pricing & Catalog</div>
                    {activeSection === 'pricing' ? <ChevronUp size={16}/> : <ChevronDown size={16}/>}
                    </button>
                    {activeSection === 'pricing' && (
                    <div className="p-4 space-y-6 bg-white">
                        
                        {/* TIER SELECTOR */}
                        <div className="bg-blue-50 p-3 rounded border border-blue-100">
                        <label className="block text-xs font-bold text-blue-800 uppercase mb-2 flex items-center gap-1">
                            <Package size={12}/> Select Base Tier
                        </label>
                        <p className="text-[10px] text-blue-600 mb-2">Clicking a tier updates price & limits automatically.</p>
                        <div className="grid grid-cols-2 gap-2">
                            {catalog.tiers.map(tier => (
                            <button 
                                key={tier.id}
                                onClick={() => applyTier(tier.id)}
                                className="px-2 py-2 bg-white border border-blue-200 rounded text-xs font-semibold text-blue-700 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-colors text-left"
                            >
                                {tier.name.replace("DarkWatch ", "")}
                                <div className="text-[10px] opacity-70 font-normal">{tier.price}</div>
                            </button>
                            ))}
                        </div>
                        </div>

                        {/* ADD-ON SELECTOR */}
                        <div>
                        <datalist id="pricing-catalog-list">
                            {catalog.addons.map((addon, idx) => (
                                <option key={`addon-${idx}`} value={addon.name} />
                            ))}
                            {catalog.tiers.map((tier, idx) => (
                                <option key={`tier-${idx}`} value={`${tier.name} 1-YR`} />
                            ))}
                        </datalist>

                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Quick Add Add-on</label>
                        <select 
                            onChange={addCatalogAddon} 
                            className="w-full p-2 border rounded text-sm bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none"
                            defaultValue=""
                        >
                            <option value="" disabled>-- Select an Add-on --</option>
                            {catalog.addons.map((addon, idx) => (
                            <option key={idx} value={addon.name}>{addon.name} - {addon.price}</option>
                            ))}
                        </select>
                        </div>

                        <div className="h-px bg-gray-200 my-2"></div>

                        {/* MANUAL EDIT AREA */}
                        <div>
                           <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Start Date</label>
                           <input type="text" name="startDate" value={proposalData.startDate} onChange={handleInputChange} className="w-full p-2 border rounded text-sm mb-2" />
                        </div>
                        <div>
                           <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Proposal Expiration</label>
                           <input type="text" name="expirationDate" value={proposalData.expirationDate} onChange={handleInputChange} className="w-full p-2 border rounded text-sm" />
                        </div>
                        
                        <div className="space-y-2">
                        <div className="flex justify-between text-xs font-bold text-gray-400 px-1 uppercase">
                            <div className="w-12 text-center">Qty</div>
                            <div className="flex-1 pl-2">Item & Price</div>
                            <div className="w-6"></div>
                        </div>
                        {proposalData.lineItems.map((item) => (
                            <div key={item.id} className="flex gap-2 items-start group bg-gray-50 p-2 rounded border border-gray-200">
                            <input 
                                type="number" 
                                min="1"
                                value={item.qty || 1}
                                onChange={(e) => updateLineItem(item.id, 'qty', parseInt(e.target.value) || 1)}
                                className="w-12 p-1.5 border rounded text-center text-sm font-bold focus:border-blue-500 outline-none h-full"
                            />
                            <div className="flex-1 space-y-1">
                                <input 
                                list="pricing-catalog-list"
                                type="text" 
                                value={item.name} 
                                onChange={(e) => updateLineItem(item.id, 'name', e.target.value)}
                                className="w-full p-1.5 border rounded text-xs font-medium focus:border-blue-500 outline-none"
                                placeholder="Item Name (Type or Select)"
                                />
                                <input 
                                type="text" 
                                value={item.price} 
                                onChange={(e) => updateLineItem(item.id, 'price', e.target.value)}
                                className="w-full p-1.5 border rounded text-xs text-gray-500 focus:border-blue-500 outline-none"
                                placeholder="Price"
                                />
                            </div>
                            <button onClick={() => removeLineItem(item.id)} className="text-gray-400 hover:text-red-500 p-1 transition-colors self-center">
                                <Trash2 size={18} />
                            </button>
                            </div>
                        ))}
                        <button onClick={addLineItem} className="w-full py-2 border-2 border-dashed border-gray-300 rounded text-gray-500 text-sm hover:border-blue-500 hover:text-blue-500 flex justify-center items-center gap-1 transition-colors">
                            <Plus size={14} /> Add Custom Item
                        </button>
                        
                  <div className="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                    <span className="text-xs font-bold text-gray-500 uppercase">Subtotal</span>
                    <span className="text-lg font-bold text-gray-700">{calculations.subtotal}</span>
                  </div>

                  {/* DISCOUNTS EDITOR */}
                  <div className="mt-6">
                    <label className="block text-xs font-bold text-gray-500 uppercase mb-2">Discounts</label>
                    {proposalData.discounts.map((item) => (
                      <div key={item.id} className="flex gap-2 items-start mb-2">
                        <div className="flex-1 space-y-1">
                          <input 
                            type="text" 
                            value={item.name} 
                            onChange={(e) => updateDiscount(item.id, 'name', e.target.value)}
                            className="w-full p-1.5 border rounded text-xs font-medium focus:border-blue-500 outline-none"
                            placeholder="Discount Name"
                          />
                          <div className="flex gap-1">
                             <select 
                                value={item.type}
                                onChange={(e) => updateDiscount(item.id, 'type', e.target.value)}
                                className="p-1.5 border rounded text-xs bg-gray-50"
                             >
                                <option value="fixed">$</option>
                                <option value="percent">%</option>
                             </select>
                             <input 
                                type="number" 
                                value={item.value} 
                                onChange={(e) => updateDiscount(item.id, 'value', e.target.value)}
                                className="w-full p-1.5 border rounded text-xs text-gray-600 focus:border-blue-500 outline-none"
                                placeholder="Value"
                              />
                          </div>
                        </div>
                        <button onClick={() => removeDiscount(item.id)} className="text-gray-300 hover:text-red-500 p-1 transition-colors">
                          <Trash2 size={16} />
                        </button>
                      </div>
                    ))}
                    <button onClick={addDiscount} className="w-full py-2 border-2 border-dashed border-gray-300 rounded text-gray-500 text-sm hover:border-blue-500 hover:text-blue-500 flex justify-center items-center gap-1 transition-colors">
                      <Plus size={14} /> Add Discount
                    </button>
                  </div>

                  <div className="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                    <span className="text-xs font-bold text-gray-500 uppercase">Est. Total</span>
                    <span className="text-lg font-bold text-green-600">{calculations.total}</span>
                  </div>
                </div>
              </div>
            )}
          </div>

                {/* Features Section */}
                <div className="border rounded-lg overflow-hidden">
                    <button 
                    className="w-full p-3 bg-gray-50 flex justify-between items-center font-semibold text-gray-700 hover:bg-gray-100"
                    onClick={() => toggleSection('features')}
                    >
                    <div className="flex items-center gap-2"><CheckCircle size={16}/> Included Benefits</div>
                    {activeSection === 'features' ? <ChevronUp size={16}/> : <ChevronDown size={16}/>}
                    </button>
                    {activeSection === 'features' && (
                    <div className="p-4 space-y-2 bg-white">
                        <p className="text-xs text-gray-500 italic mb-2">Adjust limits, credits, and included features here.</p>
                        {proposalData.benefits.map((item) => (
                            <div key={item.id} className="flex gap-2 items-center">
                            <input 
                                type="text" 
                                value={item.text} 
                                onChange={(e) => updateBenefit(item.id, e.target.value)}
                                className="w-full p-1.5 border rounded text-sm focus:border-blue-500 outline-none"
                            />
                            <button onClick={() => removeBenefit(item.id)} className="text-gray-400 hover:text-red-500">
                                <Trash2 size={14} />
                            </button>
                            </div>
                        ))}
                        <button onClick={addBenefit} className="text-xs text-blue-600 font-semibold flex items-center gap-1 mt-2 hover:underline">
                            <Plus size={12} /> Add Benefit
                        </button>
                    </div>
                    )}
                </div>

                {/* Config Section */}
                <div className="border rounded-lg overflow-hidden">
                    <button 
                    className="w-full p-3 bg-gray-50 flex justify-between items-center font-semibold text-gray-700 hover:bg-gray-100"
                    onClick={() => toggleSection('config')}
                    >
                    <div className="flex items-center gap-2"><FileText size={16}/> Internal Info</div>
                    {activeSection === 'config' ? <ChevronUp size={16}/> : <ChevronDown size={16}/>}
                    </button>
                    {activeSection === 'config' && (
                    <div className="p-4 space-y-3 bg-white">
                        <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Prepared By Name</label>
                        <input type="text" name="preparedBy" value={proposalData.preparedBy} onChange={handleInputChange} className="w-full p-2 border rounded text-sm" />
                        </div>
                        <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase mb-1">Email</label>
                        <input type="text" name="preparedByEmail" value={proposalData.preparedByEmail} onChange={handleInputChange} className="w-full p-2 border rounded text-sm" />
                        </div>
                    </div>
                    )}
                </div>

                </div>
            </div>

            {/* ------------------- LIVE PREVIEW AREA ------------------- */}
            <div className="flex-1 bg-gray-200 p-8 overflow-y-auto print:p-0 print:bg-white print:overflow-visible">
                
                {/* PAGE 1: COVER */}
                <div className="bg-white shadow-2xl mx-auto max-w-[8.5in] min-h-[11in] mb-8 print:shadow-none print:mb-0 print:break-after-page relative flex flex-col overflow-hidden">
                {/* Background Image */}
                <div className="absolute inset-0 z-0">
                    <img src="./proposal background.png" alt="Background" className="w-full h-full object-cover" />
                    {/* Overlay to ensure text readability if needed, though design seems light */}
                    {/* <div className="absolute inset-0 bg-white/90"></div> */} 
                </div>

                {/* Heroic Header Bar */}
                <div className="h-4 w-full relative z-10"></div>
                
                <div className="p-16 flex flex-col justify-between flex-1 relative z-10">
                    <div className="space-y-12">
                    {/* Logo Placeholder */}
                    <div className="w-24 h-24 flex items-center justify-center">
                        <img src="./HEROIC_logo_1000-300x300.webp" alt="HEROIC Logo" className="w-full h-full object-contain" />
                    </div>
                    
                    <div className="space-y-2">
                        <h1 className="text-6xl font-black text-white tracking-tight font-headline">HEROIC</h1>
                        <h2 className="text-3xl font-light text-gray-100 tracking-widest uppercase font-headline">DarkWatch</h2>
                    </div>

                    <div className="pt-12 border-t-4 border-white w-24"></div>

                    <div>
                        <h3 className="text-2xl font-bold text-white mb-2 font-headline">ENTERPRISE PROPOSAL</h3>
                        <p className="text-lg text-gray-100">Prepared For: <span className="font-semibold text-white">{proposalData.clientName}</span></p>
                        <div className="flex gap-6 mt-1 text-sm text-gray-200">
                           <p>Date: {new Date().toLocaleDateString()}</p>
                           <p>Valid Until: <span className="text-white font-semibold">{proposalData.expirationDate}</span></p>
                        </div>
                    </div>
                    </div>

                    <div className="mt-auto">
                    <h4 className="font-bold text-white uppercase tracking-wider mb-2 font-headline">Prepared By</h4>
                    <p className="text-lg text-white">{proposalData.preparedBy}</p>
                    <p className="text-gray-200">{proposalData.preparedByPhone}</p>
                    <p className="text-gray-200">{proposalData.preparedByEmail}</p>
                    <div className="mt-8 text-sm text-white font-bold uppercase tracking-widest font-headline">Heroic Cybersecurity</div>
                    </div>
                </div>
                </div>

                {/* PAGE 2: PRICING & DETAILS */}
                <div className="bg-white shadow-2xl mx-auto max-w-[8.5in] min-h-[11in] mb-8 print:shadow-none print:mb-0 print:break-after-page relative flex flex-col p-12">
                
                <div className="flex justify-between items-start border-b border-gray-200 pb-6 mb-8">
                    <div>
                    <h2 className="text-3xl font-bold text-heroic-black font-headline"><span className="text-heroic-red">HEROIC</span> DARKWATCH</h2>
                    </div>
                    <div className="text-right">
                    <p className="text-sm text-gray-500">Proposal for:</p>
                    <p className="font-bold text-heroic-black">{proposalData.clientName}</p>
                    </div>
                </div>

                <div className="space-y-8">
                    {/* Overview */}
                    <div className="grid grid-cols-2 gap-8 text-sm">
                    <div>
                        <p className="font-bold text-gray-500 uppercase text-xs mb-1 font-headline">Company</p>
                        <p className="font-semibold text-heroic-black text-lg">{proposalData.clientName}</p>
                    </div>
                    <div>
                        <p className="font-bold text-gray-500 uppercase text-xs mb-1 font-headline">Headquarters</p>
                        <p className="text-heroic-black">{proposalData.clientHeadquarters}</p>
                    </div>
                    <div className="col-span-2">
                        <p className="font-bold text-gray-500 uppercase text-xs mb-1 font-headline">Primary Use Case</p>
                        <p className="text-gray-700 italic border-l-2 border-heroic-red pl-3">{proposalData.useCase}</p>
                    </div>
                    </div>

                    {/* Pricing Table */}
                    <div className="mt-8">
                    <h3 className="text-lg font-bold text-heroic-black mb-4 flex items-center gap-2 font-headline">
                        <DollarSign className="text-heroic-red" size={20}/> Proposed Solution
                    </h3>
                    <table className="w-full border-collapse">
                        <thead>
                        <tr className="bg-heroic-gray text-left text-xs uppercase text-gray-600 font-bold font-headline">
                            <th className="p-3 border-b border-gray-300">Plan / Service</th>
                            <th className="p-3 border-b border-gray-300 text-center">Qty</th>
                            <th className="p-3 border-b border-gray-300">Start Date Estimate</th>
                            <th className="p-3 border-b border-gray-300 text-right">Investment</th>
                        </tr>
                        </thead>
                        <tbody className="text-sm">
                        {proposalData.lineItems.map((item) => {
                             const unitPrice = parseFloat(item.price.replace(/,/g, '').match(/(\d+(\.\d+)?)/)?.[0] || 0);
                             const qty = parseInt(item.qty) || 1;
                             const lineTotal = (unitPrice * qty).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 });
                             
                             return (
                                <tr key={item.id}>
                                <td className="p-3 border-b border-gray-200 font-medium text-heroic-black">
                                    {item.name}
                                    <div className="text-xs text-gray-400 font-normal">{item.price}</div>
                                </td>
                                <td className="p-3 border-b border-gray-200 text-center text-gray-600">{qty}</td>
                                <td className="p-3 border-b border-gray-200 text-gray-600">{proposalData.startDate}</td>
                                <td className="p-3 border-b border-gray-200 text-right font-bold text-heroic-black">{lineTotal}</td>
                                </tr>
                             );
                        })}
                  {/* TOTAL ROWS */}
                  <tr className="bg-heroic-gray bg-opacity-30">
                    <td className="p-3 border-t border-gray-300 font-bold text-heroic-black text-right font-headline" colSpan="3">SUBTOTAL</td>
                    <td className="p-3 border-t border-gray-300 text-right font-bold text-heroic-black">{calculations.subtotal}</td>
                  </tr>
                  {proposalData.discounts.length > 0 && (
                     <>
                        {proposalData.discounts.map(d => (
                            <tr key={d.id} className="text-heroic-red">
                                <td className="p-2 border-t border-gray-200 text-right text-xs" colSpan="3">{d.name} ({d.type === 'percent' ? `${d.value}%` : ''})</td>
                                <td className="p-2 border-t border-gray-200 text-right font-medium">
                                    -{d.type === 'percent' 
                                        ? (parseFloat(d.value)/100 * parseFloat(calculations.subtotal.replace(/[^0-9.-]+/g,""))).toLocaleString('en-US', {style:'currency', currency:'USD'}) 
                                        : parseFloat(d.value).toLocaleString('en-US', {style:'currency', currency:'USD'})}
                                </td>
                            </tr>
                        ))}
                        <tr className="bg-heroic-gray border-t-2 border-gray-300">
                            <td className="p-3 font-black text-heroic-black text-right font-headline" colSpan="3">TOTAL</td>
                            <td className="p-3 text-right font-black text-heroic-black">{calculations.total}</td>
                        </tr>
                     </>
                  )}
                </tbody>
              </table>
              <p className="text-[10px] text-gray-400 mt-2 text-right">*Total estimated based on standard items. Final invoicing terms apply.</p>
                    </div>

                    {/* Benefits & Limits */}
                    <div className="mt-8 bg-heroic-gray bg-opacity-50 p-6 rounded-lg border border-gray-100">
                    <h3 className="text-sm font-bold text-heroic-black uppercase tracking-wide mb-4 text-heroic-red font-headline">Platform Benefits & Limits</h3>
                    <ul className="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-heroic-black">
                        {proposalData.benefits.map((benefit) => (
                        <li key={benefit.id} className="flex items-start gap-2">
                            <span className="text-heroic-red mt-1">•</span>
                            <span>{benefit.text}</span>
                        </li>
                        ))}
                    </ul>
                    </div>

                    {/* Compliance & Support */}
                    <div className="grid grid-cols-1 gap-6 mt-4">
                    <div>
                        <h4 className="text-sm font-bold text-heroic-black mb-2 font-headline">Data Handling & Compliance</h4>
                        <p className="text-xs text-gray-600 leading-relaxed">{proposalData.dataCompliance}</p>
                    </div>
                    <div>
                        <h4 className="text-sm font-bold text-heroic-black mb-2 font-headline">Onboarding & Support</h4>
                        <p className="text-xs text-gray-600 leading-relaxed">{proposalData.onboarding}</p>
                    </div>
                    </div>
                </div>

                <div className="mt-auto pt-8 border-t border-gray-200 text-center text-xs text-gray-400">
                    Confidential Agreement | HEROIC {new Date().getFullYear()} - All Rights Reserved
                </div>
                </div>

                {/* PAGE 3: CONTRACT */}
                <div className="bg-white shadow-2xl mx-auto max-w-[8.5in] min-h-[11in] mb-8 print:shadow-none print:mb-0 print:break-after-page relative flex flex-col p-12">
                
                <div className="flex justify-between items-start border-b border-gray-200 pb-6 mb-8">
                    <div>
                    <h2 className="text-2xl font-bold text-heroic-black font-headline">Agreement</h2>
                    </div>
                    <div className="text-right">
                    <span className="text-xs font-bold bg-heroic-gray px-2 py-1 rounded text-gray-600">Signatures</span>
                    </div>
                </div>

                <div className="space-y-6 text-sm text-heroic-black leading-relaxed">
                    <p>
                    By signing below, both parties agree to the terms and conditions outlined in this Statement of Work ("SOW") 
                    and acknowledge that this SOW is governed by the HEROIC Enterprise Terms of Service, available at 
                    <span className="text-heroic-blue underline cursor-pointer"> https://heroic.com/enterprise-software-terms/</span>, 
                    which are incorporated herein by reference.
                    </p>
                    <p>
                    This SOW, together with the applicable Terms of Service and any referenced addenda or policies, constitutes 
                    the entire agreement between the parties with respect to the services described herein and supersedes all 
                    prior or contemporaneous communications, whether oral or written, relating to such subject matter.
                    </p>

                    <p className="font-bold mt-8">IN WITNESS WHEREOF, the parties have executed this Statement of Work as of the date(s) written below.</p>

                    {/* Signatures */}
                    <div className="grid grid-cols-2 gap-12 mt-12 mb-12">
                    <div className="space-y-8">
                        <h4 className="font-bold text-lg border-b-2 border-heroic-black pb-2 font-headline">Company: {proposalData.clientName}</h4>
                        <div className="space-y-4">
                        <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Full Name (Print)</p>
                            <div className="h-8 border-b border-gray-300"></div>
                        </div>
                        <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Signature</p>
                            <div className="h-12 border-b border-gray-300"></div>
                        </div>
                        <div className="grid grid-cols-2 gap-4">
                            <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Title</p>
                            <div className="h-8 border-b border-gray-300"></div>
                            </div>
                            <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Date</p>
                            <div className="h-8 border-b border-gray-300"></div>
                            </div>
                        </div>
                        </div>
                    </div>

                    <div className="space-y-8">
                        <h4 className="font-bold text-lg border-b-2 border-heroic-red pb-2 font-headline">HEROIC Cybersecurity</h4>
                        <div className="space-y-4">
                        <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Full Name (Print)</p>
                            <div className="h-8 border-b border-gray-300 flex items-end pb-1 font-script text-lg">{proposalData.preparedBy}</div>
                        </div>
                        <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Signature</p>
                            <div className="h-12 border-b border-gray-300 bg-heroic-gray bg-opacity-30"></div>
                        </div>
                        <div className="grid grid-cols-2 gap-4">
                            <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Title</p>
                            <div className="h-8 border-b border-gray-300"></div>
                            </div>
                            <div>
                            <p className="text-xs uppercase text-gray-500 mb-2 font-headline">Date</p>
                            <div className="h-8 border-b border-gray-300"></div>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>

                    <div className="bg-heroic-gray bg-opacity-50 p-6 rounded border-l-4 border-heroic-red">
                    <h4 className="font-bold text-heroic-black mb-2 font-headline">Payment & Validity Terms</h4>
                    <p className="text-xs text-gray-600 mb-2">
                        Invoices will be issued annually in advance unless otherwise agreed in writing. Payment is due 
                        immediately to initiate service, and the official start date of the service will be upon receipt of payment. 
                        Late payments may be subject to interest and/or suspension of service as outlined in the Terms of Service.
                    </p>
                    <p className="text-xs text-gray-600 font-bold">
                        This proposal is valid until {proposalData.expirationDate}. Pricing and terms may be subject to change after this date.
                    </p>
                    </div>
                </div>
                
                <div className="mt-auto pt-8 border-t border-gray-200 text-center text-xs text-gray-400">
                    Confidential Agreement | HEROIC {new Date().getFullYear()} - All Rights Reserved
                </div>
                </div>

                {/* PAGE 4: MARKETING (The Silent Threat) */}
                <div className="bg-heroic-black text-white shadow-2xl mx-auto max-w-[8.5in] min-h-[11in] mb-8 print:shadow-none print:mb-0 print:break-after-page relative flex flex-col p-12 overflow-hidden">
                {/* Background decoration */}
                <div className="absolute top-0 right-0 w-96 h-96 bg-heroic-red rounded-full blur-[128px] opacity-20 pointer-events-none"></div>
                
                <div className="relative z-10">
                    <h2 className="text-heroic-red font-bold tracking-widest uppercase mb-2 font-headline">The Silent Threat</h2>
                    <h1 className="text-4xl font-black mb-6 leading-tight font-headline">HOW COMPROMISED LOGIN CREDENTIALS ARE PUTTING YOUR BUSINESS AT SIGNIFICANT RISK</h1>
                    
                    <p className="text-gray-300 mb-8 leading-relaxed max-w-2xl">
                    In 2024 alone, over 35 billion online records were exposed across over 11,000+ confirmed data breaches 
                    targeting businesses across every major industry, including healthcare, finance, technology, and government. These stolen records, including usernames, passwords, 
                    and personal data are now circulating among cybercriminals on the dark web. Many of these breaches went undetected for weeks or months.
                    </p>

                    <div className="grid grid-cols-2 gap-8 mb-12">
                        <div className="bg-[#2a2a2a] p-6 rounded-lg border border-gray-700">
                            <h3 className="font-bold text-white mb-4 flex items-center gap-2 font-headline">
                            <Shield className="text-heroic-red" /> What They Access
                            </h3>
                            <ul className="space-y-3 text-sm text-gray-400">
                            <li>• Corporate email systems & communications</li>
                            <li>• Internal networks and cloud platforms (Microsoft 365, Google Workspace, AWS)</li>
                            <li>• Finance and payroll systems to divert payments</li>
                            <li>• Customer databases and CRMs</li>
                            <li>• Admin accounts and privileged systems</li>
                            </ul>
                        </div>

                        <div className="flex flex-col justify-center">
                            <div className="text-5xl font-black text-heroic-red mb-2 font-headline">92%</div>
                            <p className="text-gray-400 text-sm">of U.S. companies have had their information compromised by a data breach, many without ever knowing it.</p>
                            
                            <div className="mt-8">
                                <div className="text-5xl font-black text-white mb-2 font-headline">81%</div>
                                <p className="text-gray-400 text-sm">of security breaches involve leveraging weak or stolen login credentials.</p>
                                <p className="text-xs text-gray-600 mt-2">- Verizon Data Breach Investigations Report</p>
                            </div>
                        </div>
                    </div>

                    <div className="bg-white text-heroic-black p-8 rounded-xl">
                        <h3 className="text-2xl font-bold mb-2 font-headline">Get Real-Time Defense Against Compromised Data</h3>
                        <div className="grid grid-cols-2 gap-4 text-sm text-gray-600">
                            <div>
                                <p className="mb-2">With access to over 100+ billion breached identity records, HEROIC actively monitors the dark web to identify stolen data.</p>
                            </div>
                            <div>
                                <ul className="list-disc pl-4 space-y-1">
                                    <li>Employee login credentials</li>
                                    <li>Customer emails and passwords</li>
                                    <li>Vendor and partner data</li>
                                </ul>
                            </div>
                        </div>
                        <div className="flex items-center gap-4 mt-4 pt-4 border-t border-gray-200">
                            <div className="h-2 flex-1 bg-gray-200 rounded-full overflow-hidden">
                                <div className="h-full w-2/3 bg-heroic-red"></div>
                            </div>
                            <span className="font-bold text-heroic-red font-headline">Proactive Defense</span>
                        </div>
                    </div>
                </div>
                </div>

                {/* PAGE 5: FEATURES (Intelligent Protection) */}
                <div className="bg-white shadow-2xl mx-auto max-w-[8.5in] min-h-[11in] print:shadow-none print:break-after-page relative flex flex-col p-12">
                
                <div className="text-center mb-12">
                    <h2 className="text-heroic-red font-bold tracking-widest uppercase mb-2 font-headline">DarkWatch Features</h2>
                    <h1 className="text-4xl font-black text-heroic-black leading-tight font-headline">INTELLIGENTLY PROTECT YOUR <br/>BIGGEST RISK</h1>
                </div>

                <div className="grid grid-cols-2 gap-x-12 gap-y-8">
                    {[
                    { title: "Unmatched Breach Coverage", desc: "Access one of the world's most comprehensive breach intelligence platforms—over 100 billion data points and records from tens of thousands of confirmed incidents.", icon: Globe },
                    { title: "Effortless Data Discovery", desc: "No internal team required. Our breach database is continuously updated, allowing you to instantly search for compromised data across billions of records.", icon: CheckCircle },
                    { title: "Automated Threat Monitoring", desc: "Automatically scan your users, employees and customers against newly discovered breaches in real-time - providing proactive defense without manual intervention.", icon: Users },
                    { title: "Export Support", desc: "Our team is here to guide your team through every step of implementing DarkWatch - helping you intelligently protect your biggest risk: compromised credentials.", icon: FileText },
                    { title: "Seamless API Integration", desc: "Easily integrate HEROIC's powerful API into your existing cybersecurity platforms, applications, or internal tools - no friction, no complexity.", icon: Layout },
                    { title: "Credential Monitoring at Scale", desc: "Continuously monitor employee, customer, and vendor credentials across compromised platforms to prevent account takeovers and lateral movement.", icon: Shield },
                    { title: "Actionable Intelligence", desc: "Get instant visibility into exposed accounts, risk levels, and areas requiring immediate attention to strengthen your organization's security posture.", icon: CheckCircle },
                    { title: "AI-Powered Insights", desc: "Leverage AI to prioritize critical exposures, detect account reuse, flag high-risk users, and predict threats based on real-time behavior and breach trends.", icon: Layout },
                    ].map((feature, i) => (
                    <div key={i} className="flex gap-4">
                        <div className="mt-1">
                        <div className="w-10 h-10 bg-heroic-gray rounded-lg flex items-center justify-center text-heroic-red">
                            <feature.icon size={20} />
                        </div>
                        </div>
                        <div>
                        <h3 className="font-bold text-heroic-black text-lg mb-1 font-headline">{feature.title}</h3>
                        <p className="text-gray-600 text-sm leading-relaxed">{feature.desc}</p>
                        </div>
                    </div>
                    ))}
                </div>

                <div className="mt-auto bg-heroic-black text-white p-8 rounded-xl text-center">
                    <h3 className="font-bold text-xl mb-2 font-headline">DON'T WAIT FOR THE DAMAGE TO APPEAR IN YOUR HEADLINES.</h3>
                    <p className="text-gray-400">DETECT AND RESPOND TO THREATS EARLIER WITH HEROIC ENTERPRISE</p>
                </div>
                </div>

            </div>
            </div>
        );
        };

        const App = () => {
            const [view, setView] = useState('builder');
            const [catalog, setCatalog] = useState(() => {
                const saved = localStorage.getItem('heroic_pricing_catalog');
                return saved ? JSON.parse(saved) : DEFAULT_CATALOG;
            });

            const saveCatalog = (newCatalog) => {
                setCatalog(newCatalog);
                localStorage.setItem('heroic_pricing_catalog', JSON.stringify(newCatalog));
            };

            return view === 'builder' 
                ? <ProposalBuilder catalog={catalog} onOpenAdmin={() => setView('admin')} />
                : <PricingAdmin catalog={catalog} onSave={saveCatalog} onBack={() => setView('builder')} />
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

